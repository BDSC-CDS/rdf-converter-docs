
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to RDF-i2b2-converter’s documentation! &#8212; RDF-i2b2-converter 1.0 documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Docker usage" href="docker.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="#">RDF-i2b2-converter 1.0 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="docker.html" title="Docker usage"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-rdf-i2b2-converter-s-documentation">
<h1>Welcome to RDF-i2b2-converter’s documentation!<a class="headerlink" href="#welcome-to-rdf-i2b2-converter-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>The converter allows you to <strong>turn a RDF knowledge graph into a set of CSV tables fitting the i2b2 common model</strong>.
An <strong>ontology</strong> converter turns the RDF ontology into i2b2 metadata content (ONT cell tables).
A <strong>data samples</strong> converter turns the RDF instances into i2b2 star schema (CRC cell tables).
Both can be used independently, albeit comparing the consistency of their outputs is a good idea.</p>
<p>Docker configurations for both modules are available and described in the associated page of this documentation. Yet, you can also run the converter(s) from the Python source files.
The main advantage of user the Docker releases is easy input/output file management and little amount of user configuration.</p>
<p><strong>Quality assessment of the data samples conversion requires comparison against the converted ontology records.</strong> It is then recommended to run the ontology conversion first.</p>
<p><strong>Conversion scenario (ontology or data samples conversion):</strong></p>
<ol class="arabic simple">
<li>Clone the relevant repository (see <a class="reference internal" href="#reqs"><span class="std std-ref">Requirements and installation</span></a>)</li>
<li>Arrange your input files and output folders according to the predefined structure (see <a class="reference internal" href="structure.html#structure"><span class="std std-ref">I/O folders structure</span></a>)</li>
<li>Modify the provided configuration files if necessary (see <a class="reference internal" href="#index-configuration"><span class="std std-ref">Configuration</span></a>)</li>
<li>Run the converter (<a class="reference internal" href="run_data.html#run-data"><span class="std std-ref">data converter instructions</span></a>, <a class="reference internal" href="run_ontology.html#run-ontology"><span class="std std-ref">ontology converter instructions</span></a>) and check the results <a class="reference internal" href="verbose.html#verbose"><span class="std std-ref">Debug</span></a> if necessary.</li>
</ol>
</div>
<div class="section" id="requirements-and-installation">
<h1>Requirements and installation<a class="headerlink" href="#requirements-and-installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="using-docker">
<h2>Using Docker<a class="headerlink" href="#using-docker" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/CHUV-DS/docker-ontology-converter">Repository for the ontology converter (Docker)</a></p>
<p><a class="reference external" href="https://github.com/CHUV-DS/docker-data-converter">Repository for the data samples converter (Docker)</a></p>
<p>To run the Dockerized converter(s) <em>smoothly</em>, you need to have installed
- Docker and <code class="docutils literal notranslate"><span class="pre">make</span></code>
- Internet access from inside your container (automatic <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> at container startup)
Then, please follow the instructions in the <a class="reference internal" href="docker.html#docker"><span class="std std-ref">dedicated page</span></a>.</p>
<p>Exotic setups (Singularity, offline container, docker-compose instead of make, etc.) will also work if you know what you are doing (explore the Dockerfile and Makefile and adapt their content for your use).</p>
</div>
<div class="section" id="using-python-and-shell-source-files">
<h2>Using Python and shell source files<a class="headerlink" href="#using-python-and-shell-source-files" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/CHUV-DS/RDF-i2b2-converter">Repository of the source code</a></p>
<p>To run the source files directly, you need to have installed</p>
<ul class="simple">
<li>Python &gt;= 3.7</li>
<li>rdflib &gt;= 6.0.2</li>
<li>pandas &gt;= 1.3.4</li>
<li>psutils &gt;= 5.9.2 (for memory monitoring)</li>
</ul>
<p>In this case, follow the instructions of the <a class="reference internal" href="installation.html#installation"><span class="std std-ref">dedicated page</span></a>.</p>
</div>
</div>
<div class="section" id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>The converter comes from three configuration files read by the source code. If using a container, the config directory should be mounted as a shared volume with your host (see how to do this in the <a class="reference internal" href="docker.html#makefile"><span class="std std-ref">Makefile section of the Docker deployment instructions</span></a>).
All the details about every configuration file are described on <a class="reference internal" href="configuration.html#configuration"><span class="std std-ref">this page</span></a>, either for ontology or data conversion.</p>
</div>
<div class="section" id="verbose-mode">
<h1>Verbose mode<a class="headerlink" href="#verbose-mode" title="Permalink to this headline">¶</a></h1>
<p>A <em>verbose</em> mode is available, which will output human-readable identifying codes for i2b2 concepts and modifiers, instead of hashes. This is useful to assert the ontology and data converter worked consistently (and also that the input RDF data is consistent with the input RDF ontology).
We recommend to start by a <em>verbose</em> run and read the run logs. See how to do it and interpret the results <a class="reference internal" href="verbose.html#verbose"><span class="std std-ref">in the dedicated page</span></a>. For the data samples conversion, if you are happy with the logs, you will be able to convert the verbose output into production-ready tables easily.
You can also bypass the <em>verbose</em> run and issue directly your tables in production mode.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docker.html#ontology-converter-docker">Ontology converter docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html#data-converter-docker">Data converter docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html#installation-using-the-makefile">Installation using the Makefile</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html#common-fails-at-runtime">Common fails at runtime:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation from Python source files</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Organization of the I/O files and folders</a><ul>
<li class="toctree-l2"><a class="reference internal" href="structure.html#ontology-conversion-input">ONTOLOGY CONVERSION INPUT</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure.html#data-conversion-input">DATA CONVERSION INPUT</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure.html#output-tables">OUTPUT TABLES</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Organization of the config files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#graph-config-json">graph_config.json</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#data-config-json">data_config.json</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#i2b2-rdf-config-json">i2b2_rdf_config.json</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="verbose.html">Verbose mode explained</a><ul>
<li class="toctree-l2"><a class="reference internal" href="verbose.html#setting-up-for-verbose-mode">Setting up for verbose mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="verbose.html#interpreting-the-results-of-verbose-run">Interpreting the results of verbose run</a></li>
<li class="toctree-l2"><a class="reference internal" href="verbose.html#turn-the-verbose-tables-into-production-ready-tables">Turn the <em>verbose</em> tables into production-ready tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="run_data.html">Fast-forward: convert RDF data samples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="run_data.html#using-docker">Using docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_data.html#from-the-source-files">From the source files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="run_ontology.html">Fast-forward: convert a RDF ontology graph</a><ul>
<li class="toctree-l2"><a class="reference internal" href="run_ontology.html#using-docker">Using Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_ontology.html#from-the-source-files">From the source files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="flowchart.html">Run scenario flowchart</a></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation from Python source files</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Organization of the I/O files and folders</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Organization of the config files</a></li>
<li class="toctree-l1"><a class="reference internal" href="verbose.html">Verbose mode explained</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_data.html">Fast-forward: convert RDF data samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_ontology.html">Fast-forward: convert a RDF ontology graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="flowchart.html">Run scenario flowchart</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="docker.html" title="Docker usage"
              >next</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/index.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Jules Fasquelle.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>